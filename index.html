<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Love Letter</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
  </head>
  <style>
    .container-fluid {
      height: 100vh;
      display: grid;
      place-content: center;
    }
    #btnNo {
      transition: 0.5s ease-in-out;
    }
    .container-fluid > .box {
      width: 400px;
      height: 400px;
    }
    #btnYes {
      position: relative;
      left: -85px;
    }
  </style>
  <body>
    <div class="container-fluid">
      <div class="box text-center">
        <img
          src="./98ecfa5d12638a43532b77ae536ed793.gif "
          width="300px"
          height="300px"
          alt=""
          id="pic1"
        />
        <img
          src="./fd80de983b2810780d08e4374ca75581.gif"
          width="300px"
          height="300px"
          alt=""
          id="pic2"
          class="d-none"
        />
        <p class="btn1 fs-1" id="btnDo">
          Do you love me? <br />
          <span id="name" style="font-size: 17px"></span>
        </p>
        <p class="btn1 fs-1 d-none" id="btnI">I love you too</p>
        <img
          src="https://media4.giphy.com/media/Tb2uvHs0df9AOu0IvS/giphy.gif?cid=6c09b952f6hy1azrydemov5pmeclv1s0tjb6zhoiodl44296&ep=v1_gifs_search&rid=giphy.gif&ct=g "
          class="d-none"
          width="300px"
          height="300px"
          alt=""
          id="picNO"
        />
        <div class="mt-4">
          <button class="btn text-light px-4 bg-primary" id="btnYes">
            YES
          </button>
          <button
            class="btn text-light px-4 bg-danger position-absolute"
            id="btnNo"
          >
            NO
          </button>
        </div>
      </div>
    </div>
  </body>
  <script>
    // Get the URL parameters
    const urlParams = new URLSearchParams(window.location.search);

    // Get the 'n' parameter
    const name = urlParams.get("n");

    // Set the name into the <span> element if it exists
    if (name) {
      document.getElementById("name").textContent = name;
    } else {
      document.getElementById("name").textContent = "Guest"; // Fallback if no name is provided
    }

    const btnNo = document.getElementById("btnNo");
    const btnYes = document.getElementById("btnYes");
    const btnDo = document.getElementById("btnDo");
    const picNO = document.getElementById("picNO");

    btnNo.addEventListener("mouseover", function () {
      const btnRect = btnNo.getBoundingClientRect(); // Corrected here to btnNo

      const maxX = window.innerWidth - btnRect.width;
      const maxY = window.innerHeight - btnRect.height;

      const randomX = Math.floor(Math.random() * maxX);
      const randomY = Math.floor(Math.random() * maxY);

      btnNo.style.left = randomX + "px"; // Corrected here to btnNo
      btnNo.style.top = randomY + "px"; // Corrected here to btnNo
    });

    btnYes.onclick = () => {
      document.getElementById("pic1").classList.add("d-none");
      document.getElementById("pic2").classList.remove("d-none");
      document.getElementById("btnDo").classList.add("d-none");
      document.getElementById("btnI").classList.remove("d-none");
      document.getElementById("btnYes").classList.add("d-none");
      document.getElementById("btnNo").classList.add("d-none");
      document.getElementById("picNO").classList.add("d-none");
    };

    // On "No" button click
    btnNo.onclick = () => {
      picNO.classList.remove("d-none"); // Show the "NO" picture
      document.getElementById("pic1").classList.add("d-none");
      document.getElementById("btnDo").classList.add("d-none");
      alert("I love U"); // Display the alert
    };
  </script>
</html>
